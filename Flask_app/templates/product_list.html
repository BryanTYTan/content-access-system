{% extends 'base.html' %}


{% block head_links %}
<link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='styles/product_page.css') }}">
{% endblock %}

{% block content %}

<div class="d-flex flex-row justify-content-around flex-wrap mt-4">
    {% if values['all_prods'] %}

    {% for product in values['all_prods'] %}
    <div class="card" style="width: 18rem;">
        <div class="card-body">
            <div class="d-flex flex-row justify-content-between">
                <h5 class="card-title">
                    {{ product.title }}
                </h5>

                <div>
                    {% if product.id in values['owned_prods'] %}
                        <span class="badge bg-primary">Owner</span>
                    {% elif product.id in values['subbed_prods'] %}
                        <span class="badge bg-light text-dark">Subscribed</span>
                    {% else %}
                        <span class="badge bg-success">Available</span>
                    {% endif %}
                </div>
            </div>


            <div class="card-text mb-3">
                <span class="text-muted">
                    Created by - {{ product.username }}
                </span>
            </div>
            <a href="#" class="btn btn-primary">
                Subscribe to content
            </a>
        </div>
    </div>
    {% endfor %}

    {% else %}
    <div class="alert alert-info" role="alert">
        There are currently no products
    </div>
    {% endif %}
</div>

{% endblock %}